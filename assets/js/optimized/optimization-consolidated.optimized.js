 window.DekaryOptimizer ={initialized: false,config:{lazyLoading: true,imageOptimization: true,mobileOptimization: true,serviceWorker: true}};function initializeOptimizations(){if (window.DekaryOptimizer.initialized) return;console.log('🚀 Inicializando optimizaciones de Dekary...');if (window.DekaryOptimizer.config.lazyLoading){initializeLazyLoading();}if (window.DekaryOptimizer.config.imageOptimization){optimizeCriticalImages();}if (window.DekaryOptimizer.config.mobileOptimization){initializeMobileOptimizations();}if (window.DekaryOptimizer.config.serviceWorker && 'serviceWorker' in navigator){initializeServiceWorker();}window.DekaryOptimizer.initialized = true;console.log('✅ Optimizaciones de Dekary inicializadas');}function initializeLazyLoading(){const images = document.querySelectorAll('img[loading="lazy"]');if ('IntersectionObserver' in window){const imageObserver = new IntersectionObserver((entries,observer) =>{entries.forEach(entry =>{if (entry.isIntersecting){const img = entry.target;img.src = img.dataset.src || img.src;img.classList.remove('lazy');imageObserver.unobserve(img);}});});images.forEach(img => imageObserver.observe(img));}else{images.forEach(img =>{img.src = img.dataset.src || img.src;});}}function optimizeCriticalImages(){const criticalImages = document.querySelectorAll('img[src*="logo"],img[src*="Hola"]');criticalImages.forEach(img =>{if (img.complete){img.style.opacity = '1';}else{img.addEventListener('load',function(){this.style.opacity = '1';});img.style.opacity = '0';img.style.transition = 'opacity 0.3s ease-in';}});}function initializeMobileOptimizations(){const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if (isMobile){document.body.classList.add('mobile-device');const style = document.createElement('style');style.textContent = ` @media (max-width: 768px){*{animation-duration: 0.3s !important;}.hero-home{height: 80vh !important;}}`;document.head.appendChild(style);}}function initializeServiceWorker(){if ('serviceWorker' in navigator){window.addEventListener('load',() =>{navigator.serviceWorker.register('/sw.js') .then(registration =>{console.log('✅ Service Worker registrado:',registration.scope);}) .catch(error =>{console.log('❌ Error al registrar Service Worker:',error);});});}}if (document.readyState === 'loading'){document.addEventListener('DOMContentLoaded',initializeOptimizations);}else{initializeOptimizations();}window.addEventListener('load',() =>{console.log('🎯 Optimizaciones post-carga completadas');});window.DekaryOptimizer.init = initializeOptimizations;